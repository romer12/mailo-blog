---
// 获取网站配置信息
const startYear = 2021;
const currentYear = new Date().getFullYear();
const startDate = '2021-08-31';
---

<footer class="site-footer">
  <div class="footer-content">
    <div class="footer-info">
      <div class="copyright">
        <span>Copyright©{startYear}-{currentYear} 止于秋水</span>
        <span class="divider">·</span>
        <a href="/sitemap.xml" target="_blank" rel="noopener" class="link">站点地图</a>
        <span class="divider">·</span>
        <a href="/rss.xml" target="_blank" rel="noopener" class="link">RSS订阅</a>
      </div>
    </div>
  </div>
</footer>

<script define:vars={{ startDate }}>
  function calculateRunningTime() {
    const now = new Date();
    const start = new Date(startDate);
    const diff = now - start;
    
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((diff % (1000 * 60)) / 1000);
    
    document.getElementById('days').textContent = days;
    document.getElementById('hours').textContent = hours;
    document.getElementById('minutes').textContent = minutes;
    document.getElementById('seconds').textContent = seconds;
  }
  
  // 初始计算
  calculateRunningTime();
  
  // 每秒更新
  setInterval(calculateRunningTime, 1000);
</script>

<style lang="scss">
  @use '../styles/variables.scss' as *;
  
  .site-footer {
    background: var(--bg-card);
    padding: 2rem 0;
    margin-top: auto;
    border-top: 1px solid rgba(125, 125, 125, 0.1);
  }
  
  .footer-content {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 2rem;
  }
  
  .footer-info {
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }
  
  .copyright {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    flex-wrap: wrap;
    font-size: 0.875rem;
    color: var(--text-secondary);
    
    .divider {
      color: var(--text-tertiary);
    }
    
    .link {
      color: inherit;
      text-decoration: none;
      transition: color 0.2s ease;
      
      &:hover {
        color: var(--primary-color);
      }
    }
  }
  
  @media (max-width: 768px) {
    .site-footer {
      padding: 1.5rem 0;
    }
    
    .footer-content {
      padding: 0 1rem;
    }
    
    .copyright {
      font-size: 0.8125rem;
      gap: 0.375rem;
    }
  }
</style>
